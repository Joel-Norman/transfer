import{a as j,b as E,c as w,d as k,e as V,f as D,i as F}from"./chunk-2A2SZUYP.js";import{e as f,g as y,h as b}from"./chunk-RQKEQDP3.js";import{Ba as K,Da as Q,Ea as U,Ha as g,Ia as W,a as J}from"./chunk-HREUBYHO.js";import{$ as v,Cb as _,Eb as M,Mb as m,Nb as p,Ob as P,Sa as o,Ta as c,Ub as u,ca as I,da as S,ib as z,ja as A,kb as H,mc as G,qb as T,rb as L,sb as C,ta as N,tb as n,ub as a,vb as d,zb as x}from"./chunk-E3FJXN4A.js";var h=(()=>{let t=class t{constructor(e){this.http=e,this.url=W+":8080",this.reserved=!1}save(e){return this.http.post(this.url+"/vehicle",e)}travelAvailable(){return this.http.get(this.url+"/travel")}infoTravel(e){return this.http.get(this.url+"/travel/info?id="+e)}tomarTravel(e){return this.http.post(this.url+"/travel/reserve",e)}completeTravel(e){return this.http.post(this.url+"/travel/complete",e)}historyTravel(e){return this.http.get(this.url+"/travel/passenger?id="+e)}reserveTravel(e){return this.http.get(this.url+"/travel/reserve?id="+e)}};t.\u0275fac=function(i){return new(i||t)(N(J))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function re(r,t){if(r&1){let l=x();n(0,"mat-list-item",2),_("click",function(){let s=I(l).$implicit,$=M();return S($.goTravel(s))}),n(1,"mat-icon",3),m(2,"directions_car"),a(),n(3,"div",4),m(4),a(),n(5,"div",5),m(6),a(),n(7,"div",5),m(8),a()(),d(9,"hr")}if(r&2){let l=t.$implicit;o(4),p(l.startLocation),o(2),p(l.endLocation),o(2),p(l.starHour)}}var Z=(()=>{let t=class t{constructor(e,i,s){this.route=e,this.passengerService=i,this.messageService=s,this.travels=[]}ngOnInit(){this.passengerService.travelAvailable().subscribe(e=>{e.success?this.travels=e.data:this.messageService.open(e.message)})}goTravel(e){this.passengerService.infoTravel(e.id).subscribe(i=>{i.success?(this.passengerService.travel=i.data,this.passengerService.reserved=!1,this.route.navigate(["passenger/travel/info"])):this.messageService.open(i.message)})}};t.\u0275fac=function(i){return new(i||t)(c(f),c(h),c(g))},t.\u0275cmp=v({type:t,selectors:[["app-travel"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"container","mx-auto","px-4","flex","justify-center"],["role","list",1,"w-screen"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(i,s){i&1&&(n(0,"div",0)(1,"mat-list",1),L(2,re,10,3,null,null,T),a()()),i&2&&(o(2),C(s.travels))},dependencies:[F,V,D,k,w,E,j,b,y]});let r=t;return r})();function ne(r,t){if(r&1){let l=x();n(0,"button",4),_("click",function(){I(l);let i=M();return S(i.tomarViaje())}),m(1,"Tomar viaje"),a()}}function se(r,t){if(r&1){let l=x();n(0,"button",4),_("click",function(){I(l);let i=M();return S(i.completarViaje())}),m(1,"Completar viaje"),a()}}function ae(r,t){r&1&&d(0,"mat-progress-bar",5)}var ee=(()=>{let t=class t{constructor(e,i,s){this.passengerService=e,this.route=i,this.messageService=s,this.loading=!1,e.travel||i.navigate(["passenger/travel/list"])}ngOnInit(){}tomarViaje(){this.loading=!0,this.passengerService.tomarTravel({travelId:this.passengerService.travel.id,userId:localStorage.getItem("Id")}).subscribe(e=>{e.success?(this.loading=!1,this.messageService.open(e.message),this.route.navigate(["passenger/travel/list"])):(this.messageService.open(e.message),this.loading=!1)})}completarViaje(){this.loading=!0,this.passengerService.completeTravel({travelId:this.passengerService.travel.id,userId:localStorage.getItem("Id")}).subscribe(e=>{e.success?(this.messageService.open(e.message),this.loading=!1,this.route.navigate(["passenger/travel/reserved"])):(this.loading=!1,this.messageService.open(e.message))})}};t.\u0275fac=function(i){return new(i||t)(c(h),c(f),c(g))},t.\u0275cmp=v({type:t,selectors:[["app-info"]],standalone:!0,features:[u],decls:15,vars:7,consts:[[1,"container","mx-auto","px-4","flex","justify-center"],[2,"width","100%"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mode","query",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click"],["mode","query"]],template:function(i,s){i&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),m(3,"Viaje:"),a(),n(4,"p"),m(5),a(),n(6,"p"),m(7),a(),n(8,"p"),m(9),a(),n(10,"p"),m(11),a(),z(12,ne,2,0,"button",2)(13,se,2,0,"button",2)(14,ae,1,0,"mat-progress-bar",3),a()()),i&2&&(o(5),P("Partida: ",s.passengerService.travel.startLocation,""),o(2),P("Destino: ",s.passengerService.travel.endLocation,""),o(2),P("Total de pasajeros: ",s.passengerService.travel.totalPassenger,""),o(2),P("Inicia: ",s.passengerService.travel.starHour," Horas"),o(),H("ngIf",!s.passengerService.reserved&&!s.loading),o(),H("ngIf",s.passengerService.reserved&&!s.loading),o(),H("ngIf",s.loading))},dependencies:[Q,K,G,U]});let r=t;return r})();function oe(r,t){if(r&1&&(n(0,"mat-list-item")(1,"mat-icon",2),m(2,"directions_car"),a(),n(3,"div",3),m(4),a(),n(5,"div",4),m(6),a(),n(7,"div",4),m(8),a()(),d(9,"hr")),r&2){let l=t.$implicit;o(4),p(l.startLocation),o(2),p(l.endLocation),o(2),p(l.starHour)}}var te=(()=>{let t=class t{constructor(e,i,s){this.route=e,this.passengerService=i,this.messageService=s,this.travels=[]}ngOnInit(){this.passengerService.historyTravel(localStorage.getItem("Id")).subscribe(e=>{e.success?this.travels=e.data:this.messageService.open(e.message)})}};t.\u0275fac=function(i){return new(i||t)(c(f),c(h),c(g))},t.\u0275cmp=v({type:t,selectors:[["app-historial"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"container","mx-auto","px-4","flex","justify-center"],["role","list",1,"w-screen"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(i,s){i&1&&(n(0,"div",0)(1,"mat-list",1),L(2,oe,10,3,null,null,T),a()()),i&2&&(o(2),C(s.travels))},dependencies:[F,V,D,k,w,E,j,b,y]});let r=t;return r})();function me(r,t){if(r&1){let l=x();n(0,"mat-list-item",2),_("click",function(){let s=I(l).$implicit,$=M();return S($.goTravel(s))}),n(1,"mat-icon",3),m(2,"directions_car"),a(),n(3,"div",4),m(4),a(),n(5,"div",5),m(6),a(),n(7,"div",5),m(8),a()(),d(9,"hr")}if(r&2){let l=t.$implicit;o(4),p(l.startLocation),o(2),p(l.endLocation),o(2),p(l.starHour)}}var ie=(()=>{let t=class t{constructor(e,i,s){this.route=e,this.passengerService=i,this.messageService=s,this.travels=[]}ngOnInit(){this.passengerService.reserveTravel(localStorage.getItem("Id")).subscribe(e=>{e.success?this.travels=e.data:this.messageService.open(e.message)})}goTravel(e){this.passengerService.infoTravel(e.id).subscribe(i=>{i.success?(this.passengerService.travel=i.data,this.passengerService.reserved=!0,this.route.navigate(["passenger/travel/info"])):this.messageService.open(i.message)})}};t.\u0275fac=function(i){return new(i||t)(c(f),c(h),c(g))},t.\u0275cmp=v({type:t,selectors:[["app-reserved"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"container","mx-auto","px-4","flex","justify-center"],["role","list",1,"w-screen"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(i,s){i&1&&(n(0,"div",0)(1,"mat-list",1),L(2,me,10,3,null,null,T),a()()),i&2&&(o(2),C(s.travels))},dependencies:[F,V,D,k,w,E,j,b,y]});let r=t;return r})();var Ve=[{path:"travel",children:[{path:"list",component:Z},{path:"info",component:ee},{path:"history",component:te},{path:"reserved",component:ie}]}];export{Ve as routes};
